(function(){function y(a){document.all&&(this.isIE=!0);this.objEvent=a}function I(){var a=document.getElementById(D_TSRToolTipID);a&&(a.style.top="-100000px",a.style.left="-100000px")}function Q(a,b){var c={};c.key=a;c.value=b;this.attributes.push(c);return c}function R(a){if(!a)return!1;if(0===this.attributes.length)return!0;a=new u(a);for(var b=0,c=0;c<this.attributes.length;c++){var d=this.attributes[c],e=a.getAttribute(d.key);if(e&&d.value)(new RegExp(d.value,"")).test(e)&&b++;else if(e&&"null"!=
e||d.value)break;else b++}return b===this.attributes.length?!0:!1}function C(a,b,c,d){c&&(this.tagName=c.toUpperCase());this.tagID=d;this.indexSource=-1;this.attributes=[];this.tagIDregexFirst=!1;this.multiMatches=b?!1:!0;this.rootElement=a;this.childLocated=b}function z(a){this.tagName=a.toUpperCase();this.attributes=[];this.indexSource=-1;this.nodeElement=null}function S(a,b,c,d,e,g,k,t){if(!a||!b)return null;var m=0==b.indexOf("http://")?"http://":0==b.indexOf("https://")?"https://":null;m&&(b=
m+punycode.toASCII(b.slice(m.length)));if(k&&t){if(m=f.TB.GetImgRatedObject(a,h.Parser.iResultNumber)){if(!1==t(m))return null;m.resulted=!1}}else if(f.TB.InRatingQueue(a,h.Parser.iResultNumber)||f.TB.isRated(a))return null;a={id:++h.Parser.iResultNumber,node:a,FindInsertNode:function(){return this.node},AdjustNodeStyle:void 0,imageCallback:void 0};c&&(a.FindInsertNode=c);d&&(a.ShowRatingResultUI=d);e&&(a.AdjustNodeStyle=e);v.EnableSafeSearching&&k&&(a.imageCallback=k);c=new u(a.node);a.text=c.innerText();
try{a.link=decodeURI(b)}catch(p){a.link=b}if(encodeURI(a.link).match(/^(https?|ftps?):\/\/([\w%\-]+\.)+[\w%\-]+(\/[\w\- .\/?%&=]*)?/i)){b=a.FindInsertNode();if(g||!T(b)||v.EnableSafeSearching&&g_bEnableImageSafeSearch&&k)h.Parser.rgobjSearchResult[a.id]=a;return a}}function T(a){var b=!1;if(a&&a.childNodes)for(var c=0;c<a.childNodes.length;++c){var d=a.childNodes[c];if(d&&d.tagName&&"IMG"===d.tagName.toUpperCase()){b=!0;break}if(T(d))return!0}return b}function J(a){return a.replace(/^\s+|\s+$/g,"")}
function U(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)if(a[c].TSRChild){if(a[c].TSRLocatedSet)var d=U(a[c].TSRLocatedSet),b=b.concat(d)}else b.push(a[c]);if((a=b)&&a.length)for(b=[],c=a.length,d=0;d<c;++d){var e=a[d];if("href"in e)try{""!==J(e.href)&&b.push(e)}catch(g){}else e&&b.push(e)}else b=[];return b}function V(a){if("getBoundingClientRect"in document.documentElement){if(!a||!a.ownerDocument)return null;var b=null;try{b=a.getBoundingClientRect()}catch(c){return null}a=a.ownerDocument;
var d=a.documentElement;a=a.body;var e=window;return{top:b.top+(e.pageYOffset||d.scrollTop||a.scrollTop)-(d.clientTop||a.clientTop||0),left:b.left+(e.pageXOffset||d.scrollLeft||a.scrollLeft)-(d.clientLeft||a.clientLeft||0)}}d=b=0;e=a;for(a=null;e;){b+=e.offsetLeft;d+=e.offsetTop;if(document.body===e||"HTML"===e.nodeName)break;e.scrollTop&&(b-=e.scrollLeft,d-=e.scrollTop);a=e.nodeName;e=e.offsetParent}var g,e=0<document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;
g=0<document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;if("TD"===a||"TH"===a)b+=g,d+=e;return{top:d,left:b}}function n(a){return h.BaseResourceUrl+encodeURIComponent(a)}function W(a){a=K(a,!1);var b=g_oRatingLevelToolTipString.SiteSafetyReportString;return'<div id="ID_TSRUntestURLWindow_Wrapper" class="TSRUntestURLWindow_Wrapper"><div id="ID_TSRUntestURLWindow_Wrapper_closeButton" class="closeButton"></div><div class="titleArea">'+b.Title+'</div><div class="addressArea"><span class="title">'+
b.Address+'</span><span id="ID_TSRUntestURLWindow_Wrapper_webURL" class="webURL">'+a+'</span></div><div class="addressBelowSeperator"></div><div class="siteOwnAndemailArea"><div id="ID_TSRUntestURLWindow_Wrapper_siteOwner" class="siteOwner"><div id="ID_TSRUntestURLWindow_Wrapper_siteOwner_input" class="siteOwner_input_notChecked"></div><div id="ID_TSRUntestURLWindow_Wrapper_siteOwner_inputWording" class="siteOwner_inputWording">'+b.SiteOwnerCheckBox+'</div></div><input id="ID_TSRUntestURLWindow_Wrapper_emailAddress" class="emailAddress" type="text"></input><div id="ID_TSRUntestURLWindow_Wrapper_emailAddress_disabled" class="emailAddress TSRInputDisabled">'+
b.EmailAddressDefault+'</div></div><div class="descriptionArea"><textarea id="ID_TSRUntestURLWindow_Wrapper_description" class="description" type="text"></textarea></div><div class="textAreaBelowSeperator"></div><div class="footArea"><div id="ID_TSRUntestURLWindow_Wrapper_logo" class="logo"></div><button id="ID_TSRUntestURLWindow_Wrapper_send" class="TSRUntestURLWindow_Wrapper_btn_red send">'+b.SendButton+"</button></div></div>"}function X(){var a=document.getElementById("ID_TSRUntestURLWindow");
document.body.removeChild(a)}function fa(a){function b(a,b){return(new RegExp("(\\s|^)"+b+"(\\s|$)")).test(a.className)}function c(a,c){b(a,c)||(a.className+=(a.className?" ":"")+c)}function d(a,c){b(a,c)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+c+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function e(a,b){a.value=b;a.onfocus=function(){this.value==b&&(this.value="",c(this,"TSRUntestURLWindow_noPlaceHolder"))};a.onblur=function(){""==this.value&&(this.value=b,d(this,"TSRUntestURLWindow_noPlaceHolder"))}}
function g(a,b,c){try{a.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+b+"', endColorstr='"+c+"')"}catch(d){}try{a.style["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+b+"', endColorstr='"+c+"')"}catch(e){}try{a.style.background="linear-gradient("+b+", "+c+")"}catch(g){}try{a.style.background="-webkit-gradient(linear, 0 0, 0 100%, from("+b+"), to("+c+"))"}catch(k){}try{a.style.background="-moz-linear-gradient(top,  "+b+",  "+c+")"}catch(t){}}
if(!1 in g_oRatingLevelToolTipString)return null;var k=g_oRatingLevelToolTipString.SiteSafetyReportString,t=a.link;a=document.createElement("DIV");a.id="ID_TSRUntestURLWindow";a.className="TSRUntestURLWindow";a.style.backgroundImage="url("+n("overlay_background.png")+")";if(W(t)){a.innerHTML=W(t);document.body.appendChild(a);a=document.getElementById("ID_TSRUntestURLWindow_Wrapper_closeButton");var m=document.getElementById("ID_TSRUntestURLWindow_Wrapper_logo"),p=document.getElementById("ID_TSRUntestURLWindow_Wrapper_send"),
q=document.getElementById("ID_TSRUntestURLWindow_Wrapper_siteOwner"),h=document.getElementById("ID_TSRUntestURLWindow_Wrapper_siteOwner_input"),l=document.getElementById("ID_TSRUntestURLWindow_Wrapper_webURL"),w=document.getElementById("ID_TSRUntestURLWindow_Wrapper_emailAddress"),L=document.getElementById("ID_TSRUntestURLWindow_Wrapper_emailAddress_disabled"),u=document.getElementById("ID_TSRUntestURLWindow_Wrapper_description");l.title=t;h.style.backgroundImage="url("+n("ic_checkbox.png")+")";w.style.display=
"none";w.style.padding="7px 0px 7px 10px";w.style.position="absolute";w.style.top="30px";w.style.left="0px";w.style.border="solid 1px";L.style.display="block";q.onclick=function(){b(h,"siteOwner_input_checked")?(d(h,"siteOwner_input_checked"),c(h,"siteOwner_input_notChecked"),w.style.display="none",L.style.display="block"):(d(h,"siteOwner_input_notChecked"),c(h,"siteOwner_input_checked"),w.style.display="block",L.style.display="none")};u.style.padding="10px 0px 0px 10px";var v=k.EmailAddressDefault,
x=k.AddDescriptionDefault;e(w,v);e(u,x);a.style.backgroundImage="url("+n("icon_close.png")+")";a.onmouseover=function(){this.style.backgroundPosition="0px 120px"};a.onmouseout=function(){this.style.backgroundPosition="0px 0px"};a.onmousedown=function(){this.style.backgroundPosition="0px 80px"};a.onclick=function(){X()};m.style.backgroundImage="url("+n("ic_tmlogo_web.png")+")";g(p,"#e44e56","#db3d44");p.onmouseover=function(){g(p,"#ee5e64","#db3d44")};p.onmouseout=function(){g(p,"#e44e56","#db3d44")};
p.onmousedown=function(){g(p,"#db3d44","#db3d44")};p.onclick=function(){var a={url:t,site_owner:q.checked?"1":"0",email:v==w.value?"":encodeURIComponent(w.value),description:x==u.value?"":encodeURIComponent(u.value),score:"71"};if("undefined"!=typeof Feedback2SiteSafety)Feedback2SiteSafety(a);else if(f.TB.IsIE()){a.Action=15;var b=f.TB.GetIEObject(!0);b||(b=f.TB.GetIEObject(!1));b&&b.ToolbarInvoke(a)}X()}}else Y.log("missing L10n files")}function ga(a,b){if(a&&void 0!==a.level){var c=document.getElementById(D_TSRToolTipTailID),
d=document.getElementById(D_TSRToolTipBodyID),e=document.getElementById(D_TSRToolTipIconID),g=document.getElementById(D_TSRToolTipRLStringID),k=document.getElementById(D_TSRToolTipSiteUrlID),t=document.getElementById(D_TSRToolTipCheckUrlID);if(c&&d&&e&&g){d.style.left=b.BodyX+D_PIXEL_UNIT;d.style.top=b.BodyY+D_PIXEL_UNIT;var f="url("+n(g_oRatingLevel[a.level].Tail[b.TailBG])+")";c.style.backgroundImage=f;c.style.left=b.TailX+D_PIXEL_UNIT;c.style.top=b.TailY+D_PIXEL_UNIT;c.style.visibility="visible";
e.src=n(g_oRatingLevel[a.level].Content.Icon);g.innerHTML=g_oRatingLevel[a.level].Content.LevelString;g.style.color=g_oRatingLevel[a.level].Content.TextColor;k.style.color=g_oRatingLevel[a.level].Content.SiteUrlColor;t&&(t.onclick=function(){v.EnableUntestedFeedbackFeature?(I(),fa(a)):window.open("http://sitesafety.trendmicro.com")});c=document.getElementById(D_TSRToolTipRLDetailedID);e=document.getElementById(D_TSRToolTipRLDetailedShareID);g=document.getElementById(D_TSRToolTipSiteNameID);k=document.getElementById(D_TSRToolTipSiteUrlID);
c&&e&&g&&k&&(t=a.text,f=a.link,g.innerHTML=Z(K(t,!0)),g.title=t,k.innerHTML=Z(K(f,!1)),k.title=f,c.innerHTML=g_oRatingLevel[a.level].Content.HelpString,e.style.display=5!==a.level?"none":"block",0==b.BodyY&&(d.style.top=b.BodyY+(g_oImgDefine.ImgSize.PopupBodySize.height-d.offsetHeight)+D_PIXEL_UNIT))}}}function D(){h.Tooltip.iTSRTimerID&&(clearTimeout(h.Tooltip.iTSRTimerID),h.Tooltip.iTSRTimerID=null)}function E(){D();h.Tooltip.iTSRTimerID=setTimeout(I,$)}function F(a){a=a||window.event;var b=new y(a);
if("click"===a.type||aa){var c;c=document.getElementById(D_TSRToolTipID);if(!c){c=document.createElement("DIV");var d=M,e=N;c.id=D_TSRToolTipID;c.className=D_TSRToolTipShowClass;c.style.width=d;c.style.height=e;c.innerHTML='<div id="'+D_TSRToolTipTailID+'" ></div><div id="'+D_TSRToolTipBodyID+'" ><div id="TSRToolTipBodyContent" ><img id="'+D_TSRToolTipIconID+'" ><span id="'+D_TSRToolTipRLStringID+'" ></span><br style="clear:both;"/><p id="'+D_TSRToolTipSiteNameID+'" ></p><p id="'+D_TSRToolTipSiteUrlID+
'" ></p><p id="'+D_TSRToolTipRLDetailedID+'" ></p><p id="'+D_TSRToolTipRLDetailedShareID+'" style="display:none;">'+g_oRatingLevelToolTipString.CheckUrlString+'</p></div><div id="'+D_TSRToolTipCloseSpanID+'" ><div style="background-image:url('+n(g_oImgDefine.CloseIcon)+')" id="'+D_TSRToolTipCloseID+'" ></div></div><div id="'+D_TSRToolTipTitleID+'"><img src="'+n(g_oImgDefine.LogoIcon)+'" class="TSRLogoIcon"><span class="TSRProductTitle">'+D_TSRToolTipTitleString+"</span></div></div>";document.body.insertBefore(c,
null);d=document.getElementById(D_TSRToolTipTailID);e=document.getElementById(D_TSRToolTipBodyID);d.onmouseout=E;d.onmousemove=D;d.onmouseover=D;e.onmouseout=E;e.onmousemove=D;e.onmouseover=D;document.getElementById(D_TSRToolTipCloseID).onclick=I}b=b.target();d=b.TSRResult||b.parentNode.TSRResult||b.wrappedJSObject.TSRResult;D();var e={PosX:0,BodyX:0,TailX:0,PosY:0,BodyY:0,TailY:0,TailBG:null},g=0,k=0;if(b){var k=V(b),g=k.left,k=k.top,t,f,p;t=0<document.documentElement.scrollTop?document.documentElement.scrollTop:
document.body.scrollTop;f=0<document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;e.PosX=g+ba;e.BodyX=g_oImgDefine.ImgSize.Tail.width;e.TailX=0;p="Right";e.PosX+M>=document.body.clientWidth&&(g=g+ba-M,g>f&&(e.PosX=g,e.BodyX=0,e.TailX=g_oImgDefine.ImgSize.PopupBodySize.width,p="Left"));e.PosY=k-N-ca;e.BodyY=0;e.TailY=N-g_oImgDefine.ImgSize.Tail.height;g="Top";e.PosY<t&&(e.PosY=k+b.offsetHeight+ca,e.BodyY=g_oImgDefine.ImgSize.Tail.height-da,e.TailY=0,g="Bottom");
e.TailBG=g+p}ga(d,e);c.style.left=e.PosX+D_PIXEL_UNIT;c.style.top=e.PosY+D_PIXEL_UNIT;c.className=D_TSRToolTipShowClass}a.cancelBubble=!0;return!1}function O(){if(0===TMExt_$("#UMS_TOOLTIP").length){var a=TMExt_$('<div id="UMS_TOOLTIP"></div>');a.css({position:"absolute",cursor:"pointer","z-index":2147483647,background:"transparent",top:"-100000px",left:"-100000px"});a.appendTo(TMExt_$("body"))}return TMExt_$("#UMS_TOOLTIP")}function G(){h.UMSTooltip.iUMSHideTimerID&&(clearTimeout(h.UMSTooltip.iUMSHideTimerID),
h.UMSTooltip.iUMSHideTimerID=null)}function ha(){var a=TMExt_$("#UMS_TOOLTIP");0!==a.length&&(a[0].style.left="-100000px",a[0].style.top="-100000px",TMExt_$("#ums_img_tooltip").hide())}function ia(a,b){if(1===a.gMouseLeaveFlag&&a.getCurrentNode()===b){var c=O(),d=g_manual_rating.gCurrentEvent;G();var d=V(d),e=d.left-g_oImgDefine.ImgSize.WarningIcon.width;0<e&&(d.left=e);c[0].style.left=d.left+D_PIXEL_UNIT;c[0].style.top=d.top+D_PIXEL_UNIT}}function ea(){G();h.UMSTooltip.iUMSHideTimerID=setTimeout(ha,
500)}function Z(a){var b=document.createElement("div");a=document.createTextNode(a);b.appendChild(a);return b.innerHTML}function K(a,b){var c;c=D_SITE_MSG_TRUNCATE_LIMIT-D_SITE_MSG_TRUNCATE_SUFFIC.length;for(var d=0,e=0,g=0,k=0,f=0;f<a.length;f++,d++){var h=a.charCodeAt(f),p=a.charAt(f);255<h?(e++,0===e%2&&(d+=3)):"A"<=p&&"Z">=p&&(g++,0===g%4&&d++);if(d>c&&0>=k){k=f-1;break}}c=k;if(0<c){c=a.substr(0,c);if(b){a:{d=c;e=0;for(e=d.length-1;0<=e;e--)if(g=d.charCodeAt(e),k=d.charAt(e),-1<" -.:/|".indexOf(k)||
255<g){d=e;break a}d=e}0<d&&(c=c.substr(0,d+1))}return c+=D_SITE_MSG_TRUNCATE_SUFFIC}return a}function Y(a){}(function(a){function b(a){throw RangeError(G[a]);}function c(a,b){for(var c=a.length;c--;)a[c]=b(a[c]);return a}function d(a,b){return c(a.split(F),b).join(".")}function e(a){for(var b=[],c=0,d=a.length,e,g;c<d;)e=a.charCodeAt(c++),55296<=e&&56319>=e&&c<d?(g=a.charCodeAt(c++),56320==(g&64512)?b.push(((e&1023)<<10)+(g&1023)+65536):(b.push(e),c--)):b.push(e);return b}function g(a){return c(a,
function(a){var b="";65535<a&&(a-=65536,b+=H(a>>>10&1023|55296),a=56320|a&1023);return b+=H(a)}).join("")}function f(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function t(a,b,c){var d=0;a=c?A(a/v):a>>1;for(a+=A(a/b);a>y*u>>1;d+=B)a=A(a/y);return A(d+(y+1)*a/(a+n))}function h(a){var c=[],d=a.length,e,f=0,k=C,p=x,q,m,r,s,n;q=a.lastIndexOf(D);0>q&&(q=0);for(m=0;m<q;++m)128<=a.charCodeAt(m)&&b("not-basic"),c.push(a.charCodeAt(m));for(q=0<q?q+1:0;q<d;){m=f;e=1;for(r=B;;r+=B){q>=d&&b("invalid-input");s=a.charCodeAt(q++);
s=10>s-48?s-22:26>s-65?s-65:26>s-97?s-97:B;(s>=B||s>A((l-f)/e))&&b("overflow");f+=s*e;n=r<=p?w:r>=p+u?u:r-p;if(s<n)break;s=B-n;e>A(l/s)&&b("overflow");e*=s}e=c.length+1;p=t(f-m,e,0==m);A(f/e)>l-k&&b("overflow");k+=A(f/e);f%=e;c.splice(f++,0,k)}return g(c)}function p(a){var c,d,g,p,q,h,m,n,r,s=[],v,y,z;a=e(a);v=a.length;c=C;d=0;q=x;for(h=0;h<v;++h)r=a[h],128>r&&s.push(H(r));for((g=p=s.length)&&s.push(D);g<v;){m=l;for(h=0;h<v;++h)r=a[h],r>=c&&r<m&&(m=r);y=g+1;m-c>A((l-d)/y)&&b("overflow");d+=(m-c)*
y;c=m;for(h=0;h<v;++h)if(r=a[h],r<c&&++d>l&&b("overflow"),r==c){n=d;for(m=B;;m+=B){r=m<=q?w:m>=q+u?u:m-q;if(n<r)break;z=n-r;n=B-r;s.push(H(f(r+z%n,0)));n=A(z/n)}s.push(H(f(n,0)));q=t(d,y,g==p);d=0;++g}++d;++c}return s.join("")}var q="object"==typeof global&&global;if(q.global===q||q.window===q)a=q;var l=2147483647,B=36,w=1,u=26,n=38,v=700,x=72,C=128,D="-",z=/^xn--/,E=/[^ -~]/,F=/\x2E|\u3002|\uFF0E|\uFF61/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},y=B-w,A=Math.floor,H=String.fromCharCode;a.punycode={version:"1.2.3",ucs2:{decode:e,encode:g},decode:h,encode:p,toASCII:function(a){return d(a,function(a){return E.test(a)?"xn--"+p(a):a})},toUnicode:function(a){return d(a,function(a){return z.test(a)?h(a.slice(4).toLowerCase()):a})}}})(this);var l=window,x=window,v={EnableUntestedFeedbackFeature:!0,EnableFacebookAlertYourFriend:!0,EnableSafeSearching:!0};"undefined"!=typeof x.ProductFeatureConfig&&("undefined"!=typeof x.ProductFeatureConfig.EnableUntestedFeedbackFeature&&
(v.EnableUntestedFeedbackFeature=x.ProductFeatureConfig.EnableUntestedFeedbackFeature),"undefined"!=typeof x.ProductFeatureConfig.EnableFacebookAlertYourFriend&&(v.EnableFacebookAlertYourFriend=x.ProductFeatureConfig.EnableFacebookAlertYourFriend),"undefined"!=typeof x.ProductFeatureConfig.EnableSafeSearching&&(v.EnableSafeSearching=x.ProductFeatureConfig.EnableSafeSearching));var ba=7,ca=-3,da=40,M=g_oImgDefine.ImgSize.PopupBodySize.width+g_oImgDefine.ImgSize.Tail.width-0,N=g_oImgDefine.ImgSize.PopupBodySize.height+
g_oImgDefine.ImgSize.Tail.height-da,h={Browser:{isIE:!1,isFF:!1,oBHOActiveX:null},Parser:{iResultNumber:0,iRatingNumber:0,rgobjSearchResult:[],iParserFlowID:1},Tooltip:{isToolTipMove:!1,iTSRTimerID:null,posTooltip:{posX:0,posY:0}},UMSTooltip:{iUMSHideTimerID:null,iUMSShowTimerID:null},BaseResourceUrl:""};l.g_oEnv=h;var aa=!1,P=!0,$=300;l.g_iUMSToolTipTimeout=1E3;l.g_bEnableImageSafeSearch=!1;l.g_bIsFirefoxLargerThan3_6_x=!0;var u=function(a){document.all&&(this.isIE=!0,this.style.isIE=!0);this.objDom=
a;this.style.objDom=a};u.prototype.innerText=function(){return this.objDom.innerText||this.objDom.textContent||""};u.prototype.getAttribute=function(a){var b=null;this.isIE?this.objDom.attributes[a]&&(b=this.objDom.attributes[a].value):b=this.objDom.getAttribute(a);return b};u.prototype.style={setFloat:function(a){this.isIE?this.objDom.style.styleFloat=a:this.objDom.style.cssFloat=a},setMargin:function(a){this.objDom.style.margin=a}};l.TMDOMObj=u;y.prototype.target=function(){return this.objEvent.srcElement||
this.objEvent.target};y.prototype.LeftButton=function(){var a=!1;return a=this.isIE?1===this.objEvent.button:0===this.objEvent.button};l.CreateTSRLocatedObject=C;C.prototype.findElement=function(a){a&&(this.rootElement=a);var b=a=this.tagID?this.findElementByID():this.findElementByTagName();if(b){a=[];for(var c=0;c<b.length;c++){var d=(new u(b[c])).getAttribute("style");/display\s*:\s*none/i.test(d)||a.push(b[c])}}if(a)for(b=0;b<a.length;b++)this.childLocated?(a[b].TSRChild=!0,a[b].TSRLocatedSet=
this.childLocated.findElement(a[b])):a[b].TSRChild=!1;return a};C.prototype.findElementByID=function(){if(!this.tagID)return null;var a=[],b=null;if(this.tagIDregexFirst&&this.tagName){for(var c=this.rootElement.getElementsByTagName(this.tagName),d=new RegExp(this.tagID,""),e=0;e<c.length&&(b=c[e],!d.test(b.id)||(a.push(b),this.multiMatches));e++);return 0<a.length?a:null}return(b=this.rootElement.getElementById(this.tagID))?(a.push(b),this.tagName=b.tagName,a):null};C.prototype.findElementByTagName=
function(){if(!this.tagName)return null;var a=0,b=this.rootElement.getElementsByTagName(this.tagName);if(0===b.length)return null;var c=[];if(-1<this.indexSource&&b[this.indexSource])return c.push(b[this.indexSource]),c;if(0===this.attributes.length){if(this.multiMatches)for(a=0;a<b.length;a++)c.push(b[a]);else c.push(b[0]);return c}for(a=0;a<b.length;a++){var d=b[a];if(this.compareAttributes(d)&&(c.push(d),!this.multiMatches))break}return 0<c.length?c:null};C.prototype.appendAttribute=Q;C.prototype.compareAttributes=
R;z.prototype.findSibling=function(a){for(var b=this.indexSource;a;){if(this.tagName===a.tagName&&this.compareAttributes(a)){if(1>b)return this.nodeElement=a,!0;b--}a=a.nextSibling}return!1};z.prototype.appendAttribute=Q;z.prototype.compareAttributes=R;l.CreateTSRSiblingObject=z;l.CreateTSRResultObject=S;l.TSTrim=J;l.InsertURLProtocolString=function(a){a=J(a);return D_HTTP_PREFIX+a+"/"};l.GetAllTSRLocatedNodes=U;l.TSRTagFlowID=function(){h.Parser.rgobjSearchResult.FlowID=++h.Parser.iParserFlowID};
l.TSREscapeURL=n;l.TSRInitToolTip=function(a,b,c,d,e,g){h.BaseResourceUrl=a;aa=b;P=c;$=d;"undefined"!==typeof e&&(l.g_bEnableImageSafeSearch=e,f.TB.IsIE()&&"undefined"!==typeof TMExt_$&&"undefined"!==typeof TMExt_$.browser&&"undefined"!==typeof TMExt_$.browser.version&&8>parseFloat(TMExt_$.browser.version)&&(l.g_bEnableImageSafeSearch=!1));"undefined"!==typeof g&&(l.g_iUMSToolTipTimeout=g)};l.TSRInsertResultICON=function(a,b,c){if(h.Parser.rgobjSearchResult[a]&&g_oRatingLevel[b]&&!f.TB.isDocumentEditable()){var d=
h.Parser.rgobjSearchResult[a];if(!d.resulted){d.resulted=!0;h.Parser.iRatingNumber++;d.level=b;d.phishing=c;if(d.imageCallback)return d.imageCallback(d);var e=null,e=d.spanIcon&&"SPAN"===d.spanIcon.nodeName?d.spanIcon:document.createElement("SPAN");d.spanIcon=e;e.className="TSRSpan";if((c=d.FindInsertNode())&&c.parentNode){if(c.parentNode.childNodes&&2<=c.parentNode.childNodes.length){var g=c.previousSibling;if(g&&"SPAN"===g.tagName&&"TSRSpan"===g.className)return}c.parentNode.insertBefore(e,c);e.id=
D_TSRSpanIDPrefix+parseInt(a,10);e.onmouseout=E;e.onmouseover=F;e.onclick=F;e.TSRID=parseInt(a,10);e.TSRResult=d;g=document.createElement("IMG");g.className="TSRWebRatingIcon";g.src=n(g_oRatingLevel[b].WebIcon);g.style.width=g_oImgDefine.ImgSize.WarningIcon.width+"px";g.style.height=g_oImgDefine.ImgSize.WarningIcon.height+"px";g.style.border="0px";e.appendChild(g);if(P&&(b=h.Parser.rgobjSearchResult[a])){a=D_TSRHIGHLIGHT_COLOR_OFF;P&&g_oRatingLevel[b.level]&&(a=g_oRatingLevel[b.level].Highlight);
b=b.FindInsertNode();e=!0;if(b&&b.childNodes)for(g=0;g<b.childNodes.length;++g){var k=b.childNodes[g];if(k&&k.tagName&&"DIV"===k.tagName.toUpperCase()){e=!1;break}}!b.NotHighLight&&e&&b&&b.style&&(b.style.backgroundColor=a)}d.AdjustNodeStyle&&d.AdjustNodeStyle(c);v.EnableFacebookAlertYourFriend&&"undefined"!=typeof TSNSInsertAlertICON&&TSNSInsertAlertICON(d);"undefined"!=typeof TSNSFeedbackUnsafeURL&&TSNSFeedbackUnsafeURL(d)}}}};l.UMSCreateTooltip=O;l.UMSSetToolTipHideTimer=ea;l.UMSInsertResultICON=
function(a,b,c){if(0!==a.gMouseLeaveFlag&&a.getCurrentNode()===c){var d={id:-1,node:a.getCurrentTarget()[0],FindInsertNode:function(){return this.node},AdjustNodeStyle:void 0};d.level=b;var e=d.node.href;try{d.link=decodeURIComponent(e)}catch(g){d.link=e}var f=new u(d.node);d.text=f.innerText()||e;O();0===TMExt_$("#ums_img_tooltip").length&&TMExt_$("<img id='ums_img_tooltip' class='UMSRatingIcon' src=''/>").appendTo(TMExt_$("#UMS_TOOLTIP"));e=TMExt_$("#ums_img_tooltip");f=e[0];f.src=n(g_oRatingLevel[b].WebIcon);
f.style.width=g_oImgDefine.ImgSize.WarningIcon.width+"px";f.style.height=g_oImgDefine.ImgSize.WarningIcon.height+"px";f.style.border="0px";f.TSRID=-1;f.TSRResult=d;ia(a,c);e.unbind();e.mouseout(function(b){a.gMouseLeaveFlag=0;E();ea(b)});e.mouseover(function(b){a.gMouseLeaveFlag=1;F(b);G()});e.click(function(b){a.gMouseLeaveFlag=1;F(b);G()});e.show()}};l.TSRGetRatingFlowID=function(){return h.Parser.iParserFlowID};l.TMExt_debug=Y;var f={TB:{},TB:{}};f.TB.console={};f.TB.console.info=function(a){};
f.TB.extend=function(a,b){for(var c in b)a[c]=b[c]};f.TB.$=function(a){return document.getElementById(a)};f.TB.Each=function(a,b){for(var c=0,d=0;d=a[c];c++)b(d)};f.TB.reduce=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];e&&b(e)&&c.push(e)}return c};f.TB.TrimSpace=function(a){return a.replace(/^\s*|\s*$/g,"")};f.TB.FindChar=function(a,b){for(var c=0;a.charAt(c)&&-1===b.indexOf(a.charAt(c));)++c;return a.charAt(c)?{c:a.charAt(c),i:c}:{c:null,i:-1}};f.TB.NodeListToArray=function(a){for(var b=
[],c=0;c<a.length&&a[c];c++)b.push(a[c]);return b};f.TB.hasClass=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")};f.TB.$S=function(a){var b=function(a,b){var c=[];if("#"===a.substr(0,1)){var d=f.TB.$(a.substr(1));c.push(d)}else if("."===a.substr(0,1)&&(a="*"+a),d=f.TB.FindChar(a,"["),f.TB.console.info("key="+a+"i="+d.i+",c="+d.c),-1===d.i)f.TB.console.info("tag="+a+",parent="+b.innerHTML),c=f.TB.NodeListToArray(b.getElementsByTagName(a));else if("["===d.c){c=a.substr(0,d.i);f.TB.console.info("tag="+
c+",parent="+b+",parent.getElementsByTagName(tag),"+b.getElementsByTagName(c).length);var c=f.TB.NodeListToArray(b.getElementsByTagName(c)),e=a.indexOf("]");if(-1===e)throw"can not find right bracket";d=a.substring(d.i+1,e);f.TB.console.info("sExtendRule="+d);var d=d.split("="),e=d[0],g=d[1];f.TB.console.info("name="+e+",value="+g);e&&g&&("hasClass"===e?(f.TB.console.info("results of get tag="+c.length),c=f.TB.reduce(c,function(a){return f.TB.hasClass(a,g)})):"custom"===e&&(c=f.TB.reduce(c,function(a){return eval(g+
"(node)")})))}return c};a=a.split(" ");for(var c=[],d=0;d<a.length&&a[d];d++){for(var e=c.length?c:[document],c=[],g=f.TB.TrimSpace(a[d]),k=0;k<e.length&&e[k];k++)c=c.concat(b(g,e[k]));if(!c.length)break}return c};f.TB.isRated=function(a){var b=!1;if(a&&a.parentNode&&a.parentNode.childNodes&&2<=a.parentNode.childNodes.length){var c=a.previousSibling;c&&"SPAN"===c.tagName&&"TSRSpan"===c.className&&(b=!0)}f.TB.console.info("node="+a+"_isRated="+b);return b};f.TB.InRatingQueue=function(a,b){for(var c=
h.Parser.rgobjSearchResult,d=b-1;1<=d;d--)if(c[d]&&c[d].node===a)return!0;return!1};f.TB.InImageRatingQueue=function(a,b){for(var c=h.Parser.rgobjSearchResult,d=b-1;1<=d;d--)if(c[d]&&c[d].node===a&&!0==c[d].resulted)return!0;return!1};f.TB.GetImgRatedObject=function(a,b){for(var c=h.Parser.rgobjSearchResult,d=b-1;1<=d;d--)if(c[d]&&c[d].node===a&&!0==c[d].resulted)return c[d];return null};f.TB.ReduceNewNode=function(a){for(var b=h.Parser.rgobjSearchResult,c=h.Parser.rgobjSearchResult.length,d=c-1;d>=
a;d--){var e=b[d]?b[d].node:void 0;(e&&f.TB.isRated(e)||f.TB.InRatingQueue(e,a))&&delete b[d]}for(c-=1;c>=a&&void 0==b[c];c--);b.length=c+1;h.Parser.iResultNumber=0>=b.length?0:b.length-1};f.TB.ReduceImageNewNode=function(a){for(var b=h.Parser.rgobjSearchResult,c=h.Parser.rgobjSearchResult.length,d=c-1;d>=a;d--){var e=b[d]?b[d].node:void 0;e&&f.TB.InImageRatingQueue(e,a)&&delete b[d]}for(c-=1;c>=a&&void 0==b[c];c--);b.length=c+1;h.Parser.iResultNumber=0>=b.length?0:b.length-1};f.TB.FindTargetLinks=
function(a,b,c){var d={isRated:f.TB.isRated,blacklist:[]};c&&f.TB.extend(d,c);a=f.TB.$S(b);if(d.blacklist.length){var e=[];for(b=d.blacklist.length-1;0<=b;--b)e.push(new RegExp(d.blacklist[b],"i"));a=f.TB.reduce(a,function(a){try{var b=a&&a.href;if(b)for(var d=c.blacklist.length-1;0<=d;--d)if(e[d].test(b))return!1}catch(f){return!1}return!0})}a=f.TB.reduce(a,function(a){if(d.isRated(a))return!1;for(var b=h.Parser.rgobjSearchResult,c=1,e=0;e=b[c];++c)if(e&&e.node===a)return!1;return!0});f.TB.console.info("elems="+
a.length);return a};f.TB.ClearResultedNode=function(){(function(a){for(var b=1,c=0;c=a[b];++b)c.resulted&&delete a[b]})(h.Parser.rgobjSearchResult);(function(){for(var a=h.Parser.rgobjSearchResult,b=a.length-1;0<=b;b--)if(void 0===a[b])a.length--;else break;h.Parser.iResultNumber=0>=a.length?0:a.length-1})()};f.TB.PagePattern=function(a,b,c){var d={isRated:function(a){}};c&&f.TB.extend(d,c);this.urlPathPattern=a;this.selector=b;this.options=d};f.TB.TBSet=function(){this.Nodes=[]};f.TB.TBSet.prototype.getNodesCount=
function(){return this.Nodes.length};f.TB.TBSet.prototype.isNodeExist=function(a){for(var b=!1,c=0;c<this.Nodes.length;c++)if(this.Nodes[c]===a){b=!0;break}return b};f.TB.TBSet.prototype.addNode=function(a){this.isNodeExist(a)||this.Nodes.push(a)};f.TB.TBSet.prototype.createResultNodes=function(a,b){for(var c=0;c<this.Nodes.length;c++)S(this.Nodes[c],this.Nodes[c].href,null,null,a,b)};f.TB.TBSet.prototype.filterByHref=function(a){if(a){for(var b,c=[],d=0;d<this.Nodes.length;d++)if(this.Nodes[d].href){for(var e=
!1,f=0;f<a.length;f++)if(b=new RegExp(a[f],""),b.test(this.Nodes[d].href)){e=!0;break}e||c.push(this.Nodes[d])}this.Nodes=c.slice(0)}};f.TB.TBSet.prototype.filterByContent=function(a){if(a){for(var b,c=[],d,e=0;e<this.Nodes.length;e++)if(d=this.Nodes[e].innerHTML){for(var f=!1,k=0;k<a.length;k++)if(b=new RegExp(a[k],"i"),b.test(d)){f=!0;break}f||c.push(this.Nodes[e])}this.Nodes=c.slice(0)}};f.TB.isDocumentEditable=function(a){a=document.getElementsByTagName("body");var b="false";0<a.length&&(b=a[0].getAttribute("contenteditable"));
return"on"===document.designMode||""===b||"true"===b};f.TB.IsIE=function(){var a=!1;try{a="undefined"!=typeof ActiveXObject||"undefined"!=typeof new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}return a};f.TB.DOMIdExist=function(a){return document.getElementById(a)?!0:!1};f.TB.GetIEObject=function(a){if(!f.TB.IsIE())return!1;if(a){if(!window.g_oTMIEObject)try{window.g_oTMIEObject=new ActiveXObject("ProToolbarIMRatingActiveX.ToolbarCB")}catch(b){window.g_oTMIEObject=null}a=window.g_oTMIEObject&&"undefined"!=
typeof window.g_oTMIEObject.ToolbarInvoke&&!1!=window.g_oTMIEObject.ToolbarInvoke({test_key:"test_value"})?window.g_oTMIEObject:null}else a="undefined"!=typeof window.external.ToolbarInvoke?window.external:null;return a};f.TB.SAFESEARCHING=function(){var a=function(){var a='<div id="ID_TSRImageBlockPopup" class="TSRImageBlock_Root"><div class="TSRImageBlock_Wrapper"><div class="TSRImageBlock_body"><div class="TSRImageBlock_body_title">'+g_oSafeSearchingString.warnUserTitle+'</div><div class="TSRImageBlock_body_desc">'+
g_oSafeSearchingString.reallyNeedToSeeUntilRestart+'</div></div><div class="TSRImageBlock_footer"><div class="TSRImageBlock_footer_logo" style="background-image: url('+n("PC_Icon_Guide_16.png")+')"></div><div class="TSRImageBlock_footer_productName">'+g_oSafeSearchingString.productName+"</div></div></div></div>";return TMExt_$(a)},b=function(a){return 7===a||8===a},c=[{imgSize:110,src:"img_image_block_110_110.png"},{imgSize:100,src:"img_image_block_100_100.png"},{imgSize:90,src:"img_image_block_90_90.png"},
{imgSize:80,src:"img_image_block_80_80.png"},{imgSize:70,src:"img_image_block_70_70.png"},{imgSize:60,src:"img_image_block_60_60.png"},{imgSize:50,src:"img_image_block_50_50.png"},{imgSize:40,src:"img_image_block_40_40.png"},{imgSize:30,src:"img_image_block_30_30.png"},{imgSize:20,src:"img_image_block_20_20.png"},{imgSize:16,src:"img_image_block_16_16.png"}],d=function(a){var b=a.width()<a.height()?a.width():a.height(),d="img_image_block_16_16.png";TMExt_$.each(c,function(a,c){if(b>c.imgSize)return d=
c.src,!1});a.css("background-image","url("+n(d)+")");a.css("background-repeat","no-repeat");a.css("background-position","center center")},e=function(a){for(var c=TMExt_$("[link_level]"),d=0,e=c.length;d<e;d++){var f=c.eq(d),h=f.attr("link_level");b(parseInt(h))&&a(f)}};return{ID_IMAGE_BLOCK_POPUP:"ID_TSRImageBlockPopup",constructImageBlockPopup:a,checkImageBlockPopupExist:function(){if(0===TMExt_$("#ID_TSRImageBlockPopup").length){var b=a();b.bind("mouseleave",function(){TMExt_$(this).hide()});b.find(".provide_password").bind("click",
function(){if("undefined"!==typeof SetTempImageSafeSearchStatus)SetTempImageSafeSearchStatus(function(){location.reload()});else if(f.TB.IsIE()){var a={HTMLDocument:document,Action:18},b=f.TB.GetIEObject(!0);b||(b=f.TB.GetIEObject(!1));b&&b.ToolbarInvoke(a)}});TMExt_$("body").append(b)}},bindMouseEnterEvent:function(a){a.bind("mouseenter",function(){var a=TMExt_$("#ID_TSRImageBlockPopup");a.css("width","auto");a.css("height","auto");a.fadeIn(200,function(){});var b=TMExt_$(this).offset(),c=TMExt_$(this).width()-
a.width(),d=TMExt_$(this).height()-a.height(),e=0,f=0;0<=c?(a.css("width",TMExt_$(this).width()),e=b.left):(a.css("width","auto"),e=b.left+c/2);0<=d?(a.css("height",TMExt_$(this).height()),f=b.top):f=b.top+d/2;0>e&&(e=5);0>f&&(f=5);e+a.width()>TMExt_$(document).width()&&(b=e+a.width()-TMExt_$(document).width(),e=e-b-5);a.css("left",e);a.css("top",f)})},isNeedToBlock:b,getParamFromURL:function(a,b){try{var c=document.createElement("a");c.href=a;var d=c.search;if("string"==typeof d&&0<d.length)for(var d=
d.substring(1),e=d.split("&"),c=0;c<e.length;c++){var f=e[c].split("=");if(f[0]==b)return f[1]}return null}catch(h){return null}},assert:function(a,b){!a&&console&&console.error&&console.error(b)},setBlockImage:d,refreshBlockImages:function(a){setTimeout(function(){e(function(b){a&&a(b);d(b)})},500)}}}();l.TrendMicro=f})();
