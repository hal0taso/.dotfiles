(function(){var g=MTwitterScannerHelper,b=function(){this.ScannerHelper=new g;this.responseHeaderScanSingle=MTPScanSingleResponse;this.responseHeaderScan=MTPScanResponse};b.prototype.scanSingle=function(e,d){var a=this;if(!this.ScannerHelper.isValidID(e)){var b=(new APIResponseHelper(a.responseHeaderScanSingle,ReturnCodeEnum.INVALID_ID.code,ReturnCodeEnum.INVALID_ID.description,"wrong ID! : "+e+", availableIDS: "+this.ScannerHelper.getAllvalidID())).getResponse();PSDebug.error(b);return d(b)}this.scan(function(c){if(c[a.responseHeaderScan].ReturnCode==
ReturnCodeEnum.OK.code||c[a.responseHeaderScan].ReturnCode==ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR_COULD_USE_PARTLY.code){var b=null;c=c[a.responseHeaderScan].Response;for(var f=0;f<c.length;f++)if(c[f].ID==e){b=c[f];break}b?(c=(new APIResponseHelper(a.responseHeaderScanSingle,ReturnCodeEnum.OK.code,ReturnCodeEnum.OK.description,b)).getResponse(),PSDebug.log(c)):(c=(new APIResponseHelper(a.responseHeaderScanSingle,ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR.code,ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR.description,
"Web content parse error! ID: "+e)).getResponse(),PSDebug.error(c))}else c=(new APIResponseHelper(a.responseHeaderScanSingle,c[a.responseHeaderScan].ReturnCode,c[a.responseHeaderScan].Description,c[a.responseHeaderScan].Response)).getResponse(),PSDebug.error(c);return d(c)})};b.prototype.scan=function(b){var d=this;SendWebRequest(d.ScannerHelper.getSendData_SettingPage(),function(a){(a=d.ScannerHelper.handleResponse_SettingPage(TMExt_$(a)))&&a.scanResult?(a=!0==a.scanResult_incomplete?(new APIResponseHelper(d.responseHeaderScan,
ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR_COULD_USE_PARTLY.code,ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR_COULD_USE_PARTLY.description,a.scanResult)).getResponse():(new APIResponseHelper(d.responseHeaderScan,ReturnCodeEnum.OK.code,ReturnCodeEnum.OK.description,a.scanResult)).getResponse(),PSDebug.log(a)):(a=(new APIResponseHelper(d.responseHeaderScan,ReturnCodeEnum.NOT_LOGGED_IN.code,ReturnCodeEnum.NOT_LOGGED_IN.description)).getResponse(),PSDebug.error(a));b(a)},function(a){a=(new APIResponseHelper(d.responseHeaderScan,
ReturnCodeEnum.NETWORK_ERROR.code,ReturnCodeEnum.NETWORK_ERROR.description)).getResponse();PSDebug.error(a);return b(a)})};b.prototype.getAuth=function(b){var d=this;SendWebRequest(d.ScannerHelper.getSendData_SettingPage(),function(a){a=d.ScannerHelper.handleAuth_SettingPage(TMExt_$(a));return b(a)},function(a){a=(new APIResponseHelper(d.responseHeaderScan,ReturnCodeEnum.NETWORK_ERROR.code,ReturnCodeEnum.NETWORK_ERROR.description)).getResponse();PSDebug.error(a);return b(a)})};b.prototype.Website=
"MTWITTER";window.MTwitterPScanner=b})();
