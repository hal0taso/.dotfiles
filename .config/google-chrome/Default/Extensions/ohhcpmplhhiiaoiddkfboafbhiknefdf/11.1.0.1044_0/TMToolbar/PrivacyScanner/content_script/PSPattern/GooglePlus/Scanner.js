(function(){var h=0;window.GooglePlusIsPageLoadComplete=function(d){h+=GOOGLEPLUS_TIME_INTERVAL_CHECK_LOAD_COMPLETE;return h>=GOOGLEPLUS_TIMEOUT_LOAD_COMPLETE||1==d.find("#profiles-photos-settings-defaultGeoVisibility").length&&1==d.find("#profiles-photos-settings-enableDownload").length&&1==d.find("#profiles-photos-settings-enableNs").length?!0:!1};var k=GooglePlusScannerHelper,e=function(){this.ScannerHelper=new k;this.responseHeaderScanSingle=GPPScanSingleResponse;this.responseHeaderScan=GPPScanResponse};
e.prototype.scanSingle=function(d,e){var b=this;if(!this.ScannerHelper.isValidID(d)){var c=(new APIResponseHelper(b.responseHeaderScanSingle,ReturnCodeEnum.INVALID_ID.code,ReturnCodeEnum.INVALID_ID.description,"wrong ID! : "+d+", availableIDS: "+this.ScannerHelper.getAllvalidID())).getResponse();PSDebug.error(c);return e(c)}this.scan(function(a){if(a[b.responseHeaderScan].ReturnCode==ReturnCodeEnum.OK.code||a[b.responseHeaderScan].ReturnCode==ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR_COULD_USE_PARTLY.code){var c=
null;a=a[b.responseHeaderScan].Response;for(var f=0;f<a.length;f++)if(a[f].ID==d){c=a[f];break}c?(a=(new APIResponseHelper(b.responseHeaderScanSingle,ReturnCodeEnum.OK.code,ReturnCodeEnum.OK.description,c)).getResponse(),PSDebug.log(a)):(a=(new APIResponseHelper(b.responseHeaderScanSingle,ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR.code,ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR.description,"Web content parse error! ID: "+d)).getResponse(),PSDebug.error(a))}else a=(new APIResponseHelper(b.responseHeaderScanSingle,
a[b.responseHeaderScan].ReturnCode,a[b.responseHeaderScan].Description,a[b.responseHeaderScan].Response)).getResponse(),PSDebug.error(a);return e(a)})};e.prototype.scan=function(d){function e(a){a=(new APIResponseHelper(c.responseHeaderScan,ReturnCodeEnum.NETWORK_ERROR.code,ReturnCodeEnum.NETWORK_ERROR.description)).getResponse();PSDebug.error(a);return d(a)}function b(){function a(){f=c.ScannerHelper.handleResponse_SettingPage(TMExt_$(document));g=PUtil.cloneObj(f);SendWebRequest(c.ScannerHelper.getSendData_endorsement_scan(),
function(a){if(a=c.ScannerHelper.handleResponse_endorsement_scan(TMExt_$(a))){var b=c.ScannerHelper.getScanResultSampleByID("21");b.Title=a.Title;b.Desc=a.Desc;b.Current=a.Current;g.scanResult.push(b)}else g.scanResult_incomplete=!0;a=g;a=!0==a.scanResult_incomplete?(new APIResponseHelper(c.responseHeaderScan,ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR_COULD_USE_PARTLY.code,ReturnCodeEnum.WEBRESPONSE_PARSE_ERROR_COULD_USE_PARTLY.description,a.scanResult)).getResponse():(new APIResponseHelper(c.responseHeaderScan,
ReturnCodeEnum.OK.code,ReturnCodeEnum.OK.description,a.scanResult)).getResponse();PSDebug.log(a);d(a)},e)}var g=null,f=null;GooglePlusIsPageLoadComplete(TMExt_$(document))?setTimeout(a,GOOGLEPLUS_WAITING_BEFORE_REAL_SCAN):setTimeout(b,GOOGLEPLUS_TIME_INTERVAL_CHECK_LOAD_COMPLETE)}var c=this;b()};e.prototype.Website="GOOGLEPLUS";window.GooglePlusPScanner=e})();
