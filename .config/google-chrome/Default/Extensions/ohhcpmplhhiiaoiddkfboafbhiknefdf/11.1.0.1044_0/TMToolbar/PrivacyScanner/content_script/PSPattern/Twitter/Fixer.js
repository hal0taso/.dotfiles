(function(){var b=0;window.TwitterIsPageLoadComplete=function(f){b+=TWITTER_TIME_INTERVAL_CHECK_LOAD_COMPLETE;return b>=TWITTER_TIMEOUT_LOAD_COMPLETE||f.find("#settings_save").is(":visible")?!0:!1};var l=TwitterScannerHelper,m=TwitterFixHelper,k=function(){this.ScannerHelper=new l;this.FixHelper=new m;this.responseHeaderFixSingle=TPFixSingleResponse;this.responseHeaderClickSave=TPClickSaveResponse};k.prototype.fixSingle=function(f,a){function b(){function f(){var e=c.FixHelper.performFix(d,g),b=c.FixHelper.handleResponse(d,
g,e);b?(e=(new APIResponseHelper(c.responseHeaderFixSingle,ReturnCodeEnum.OK.code,ReturnCodeEnum.OK.description,b)).getResponse(),PSDebug.log(e)):(e=(new APIResponseHelper(c.responseHeaderFixSingle,ReturnCodeEnum.PERFORM_CLICK_FAIL.code,ReturnCodeEnum.PERFORM_CLICK_FAIL.description,"perform click fail! ID: "+d+", value: "+g+", result: "+e)).getResponse(),PSDebug.error(e));a(e)}TwitterIsPageLoadComplete(TMExt_$(document))?setTimeout(f,TWITTER_WAITING_BEFORE_REAL_SCAN):setTimeout(b,TWITTER_TIME_INTERVAL_CHECK_LOAD_COMPLETE)}
var d=f.id,g=f.value;if("SAVE"==d)this.clickSave(a);else{var c=this;if(!c.ScannerHelper.isValidID(d)){var h=(new APIResponseHelper(c.responseHeaderFixSingle,ReturnCodeEnum.INVALID_ID.code,ReturnCodeEnum.INVALID_ID.description,"wrong ID! : "+d+", availableIDS: "+c.ScannerHelper.getAllvalidID())).getResponse();PSDebug.error(h);return a(h)}if(!c.FixHelper.isValidFixValue(d,g))return h=(new APIResponseHelper(c.responseHeaderFixSingle,ReturnCodeEnum.INVALID_FIX_VALUE.code,ReturnCodeEnum.INVALID_FIX_VALUE.description,
"wrong fix value! : "+g+", availableValues: "+c.FixHelper.getValidFixValueByID(d))).getResponse(),PSDebug.error(h),a(h);b()}};k.prototype.clickSave=function(b){var a=this.FixHelper.performSave();(a=this.FixHelper.handleResponse("save_button",null,a))?(a=(new APIResponseHelper(this.responseHeaderClickSave,ReturnCodeEnum.OK.code,ReturnCodeEnum.OK.description,a)).getResponse(),PSDebug.log(a)):(a=(new APIResponseHelper(this.responseHeaderClickSave,ReturnCodeEnum.PERFORM_CLICK_FAIL.code,ReturnCodeEnum.PERFORM_CLICK_FAIL.description,
"perform click fail! ID: save_button, value: null, result: false")).getResponse(),PSDebug.error(a));b(a)};window.TwitterPFixer=k})();
