(function(){window.BaseScannerHelper=function(H){var e=this;this.tablistDom=TMExt_$(".tabs_li");this.tabContentlistDom=TMExt_$("#tabsContent>div");this.disableButtonOfTabContent=function(){var a=this.contentDom;a.find(".changesMade_area_saveChanges").css("opacity",.5);a.find(".fix_all_area_fix").css("opacity",.5);for(var a=a.find(".privacy_item_content_current"),b=0;b<a.length;b++)a.eq(b).parent().hasClass("beFacebookApplications")||a.eq(b).parent().hasClass("beFacebookSubApplications")||(a.eq(b).addClass("button_disabled_silver_inline"),
a.eq(b).css("opacity",.5))};this.enableButtonOfTabContent=function(){var a=this.contentDom;a.find(".changesMade_area_saveChanges").css("opacity",1);a.find(".fix_all_area_fix").css("opacity",1);for(var a=a.find(".privacy_item_content_current"),b=0;b<a.length;b++)a.eq(b).parent().hasClass("beFacebookApplications")||a.eq(b).parent().hasClass("beFacebookSubApplications")||(a.eq(b).removeClass("button_disabled_silver_inline"),a.eq(b).css("opacity",1))};this.UpdateNumberOfConcerns=function(){var a=e.contentDom,
b=e.tabDom.find(".status");b.removeClass("unknown");b.removeClass("noConcern");var c=a.find(".how_many_privacy_concerns");if(0!=a.find(".have_no_concerns_title").length)b.text("0"),b.addClass("noConcern");else if(0==c.length)b.text("?"),b.addClass("unknown");else{for(var a=a.find(".privacy_item_content"),d=0,f=0;f<a.length;f++)if(a.eq(f).hasClass("bFacekookApplications")){var h=a.eq(f).find("button.settingItem");(h=Number(h.attr("count")))&&(d+=h)}else h=TMExt_$.parseJSON(a.eq(f).find(".Setting_display_none").text()),
isSettingRisky(h.Current,h.Risk)&&d++;b.text(d);b=1==d?GetPSL10NString("CONCERN_TITLE_ONE_CONCERN").replace("%d",'<span class="how_many_privacy_concerns_number">'+d+"</span>"):GetPSL10NString("CONCERN_TITLE").replace("%d",'<span class="how_many_privacy_concerns_number">'+d+"</span>");c.html(b)}};this.get_tabContent_Content=function(){return this.contentDom.find(".tabsContent_content")};this.get_tabContent_Loading=function(){return this.contentDom.find(".tabsContent_loading")};this.get_alertInTabContentArea=
function(){return this.contentDom.find(".alertInTabContentArea")};this.get_saveChangesArea=function(){return this.contentDom.find(".changesMade_area")};this.get_numberOfSettingsInLocalPage=function(){return this.contentDom.find(".Setting_display_none").length};this.get_alertOverTabContentArea=function(){return this.contentDom.find(".alertOverTabContentArea")};this.get_alertMessageOverTabContent_loading=function(){return this.contentDom.find(".alertOverTabContentArea_wrapper_loading")};this.alertMessageOverTabContent_loading=
function(){e.alertMessageOverTabContent(ConstructAlertMessageOverContent_loading())};this.removeMessageOverTabContent=function(){var a=e.get_alertOverTabContentArea();0<a.length&&(a.remove(),e.enableButtonOfTabContent())};this.alertMessageInTabContent=function(a){0<e.get_alertInTabContentArea().length||(this.get_tabContent_Loading().hide(),this.get_tabContent_Content().empty(),this.get_tabContent_Content().append(a),this.get_tabContent_Content().show(),ReUpdateUI_Layout(),ToolTipHelper.HideTooltip())};
this.alertMessageInTabContent_enableToolbar=function(){e.alertMessageInTabContent(ConstructEnableToolbar())};this.ConstructAlertMessageInContent=function(a){var b=TMExt_$("<div/>",{"class":"alertInTabContentArea"}),c=TMExt_$("<div/>",{"class":"alertInTabContentArea_logoArea"}).append(TMExt_$("<div/>",{"class":"alertInTabContentArea_logo "+this.alertLogoClassName})),d=TMExt_$("<div/>",{"class":"alertInTabContentArea_title"}),f=TMExt_$("<div/>",{"class":"alertInTabContentArea_title_content",text:a.title});
d.append(f);b.append(c).append(d);a.button_content&&(c=TMExt_$("<button/>",{"class":"btn_red alertInTabContentArea_button",text:a.button_content}),c.click(a.callback),b.append(c));return b};this.ConstructAlertMessageBusyFixing=function(){var a=TMExt_$("<div/>",{"class":"alertInTabContentArea"}),b=TMExt_$("<div/>",{"class":"alertInTabContentArea_logoArea"}).append(TMExt_$("<div/>",{"class":"alertInTabContentArea_logo "+this.alertLogoClassName})),c=TMExt_$("<div/>",{"class":"alertInTabContentArea_title",
text:GetPSL10NString("BUSY_FIXING_HINT")}),d=TMExt_$("<div/>",{"class":"image_busy_fixing"});a.append(b).append(c).append(d);return a};this.ConstructAlertMessageGooglePonIE8=function(){var a=TMExt_$("<div/>",{"class":"alertInTabContentArea"}),b=TMExt_$("<div/>",{"class":"alertInTabContentArea_logoArea"}).append(TMExt_$("<div/>",{"class":"alertInTabContentArea_logo "+this.alertLogoClassName})),c=TMExt_$("<div/>",{"class":"alertInTabContentArea_title",text:GetPSL10NString("fb_google_plus_on_IE8")});
a.append(b).append(c);return a};this.ConstructAlertMessageTwitterOnIE9=function(){var a=TMExt_$("<div/>",{"class":"alertInTabContentArea"}),b=TMExt_$("<div/>",{"class":"alertInTabContentArea_logoArea"}).append(TMExt_$("<div/>",{"class":"alertInTabContentArea_logo "+this.alertLogoClassName})),c=TMExt_$("<div/>",{"class":"alertInTabContentArea_title",text:GetPSL10NString("fb_twitter_on_IE9")});a.append(b).append(c);return a};this.ConstructAlertMessageInContent_titleLink=function(a){var b=TMExt_$("<div/>",
{"class":"alertInTabContentArea"}),c=TMExt_$("<div/>",{"class":"alertInTabContentArea_logoArea"}).append(TMExt_$("<div/>",{"class":"alertInTabContentArea_logo "+e.alertLogoAlertClassName})),d=TMExt_$("<div/>",{"class":"alertInTabContentArea_title withLink"});b.append(c).append(d);var c=TMExt_$("<div/>",{"class":"alertInTabContentArea_title_content",text:a.title.wording}),f=TMExt_$("<div/>",{"class":"alertInTabContentArea_titleWithLearnMore_learnMore_wrapper"}),h=TMExt_$("<a/>",{"class":"alertInTabContentArea_titleWithLearnMore_learnMore",
text:a.title.learnMore});h.click(a.title.link_clickEvent);f.append(h);b.append(f);d.append(c);a.button_content&&(d=TMExt_$("<button/>",{"class":"btn_red alertInTabContentArea_button",text:a.button_content}),d.click(a.callback),b.append(d));return b};this.alertMessageInTabContent_installProduct=function(){e.alertMessageInTabContent(e.ConstructAlertMessageInContent({title:GetPSL10NString("PROMOTE_TITANIUM_CONTENT"),button_content:GetPSL10NString("ALERT_BUY_TITANIUM_BUTTON"),callback:function(){window.open(GetPSL10NString("PROMOTE_TITANIUM_URL"))}}))};
this.alertMessageOverTabContent=function(a){0<e.get_alertMessageOverTabContent_loading().length&&e.get_alertOverTabContentArea().remove();0<e.get_alertOverTabContentArea().length||(e.get_tabContent_Content().append(a),e.disableButtonOfTabContent(),ReUpdateUI_Layout())};this.alertMessageOverTabContent_fixAll=function(){var a=ConstructAlertMessageFixAll(e.contentDom,e.removeMessageOverTabContent,e.fixAllPopupClickEvent,e.removeMessageOverTabContent);e.alertMessageOverTabContent(a);ToolTipHelper.HideTooltip()};
this.get_numberOfConcernsInLocalPage=function(){for(var a=e.contentDom.find(".privacy_item_content"),b=0,c=0;c<a.length;c++){var d=TMExt_$.parseJSON(a.eq(c).find(".Setting_display_none").text());isSettingRisky(d.Current,d.Risk)&&b++}return b};this.clickTabUI=function(){var a=this.tablistDom,b=this.tabDom;a.removeClass("selected");b.addClass("selected");a.find(".content").removeClass("selected");b.find(".content").addClass("selected");a.find(".title").removeClass("selected");b.find(".title").addClass("selected");
a.find(".status").removeClass("selected");b.find(".status").addClass("selected");a.find(".logo").removeClass("logo_disabled").addClass("logo_disabled");b.find(".logo").removeClass("logo_disabled");this.tabContentlistDom.hide();this.contentDom.show();ReUpdateUI_Layout();ToolTipHelper.HideTooltip()};this.showContent=function(){function a(){c.show();e.UpdateNumberOfConcerns();ReUpdateUI_Layout()}var b=e.get_tabContent_Loading(),c=e.get_tabContent_Content();b.is(":visible")?b.fadeOut(200,a):(b.hide(),
a())};this.HasNoContent=function(){return e.get_tabContent_Content().is(":visible")||e.get_tabContent_Loading().is(":visible")?!1:!0};this.DoWhenFinishFixing=function(){this.UpdateNumberOfConcerns();this.removeMessageOverTabContent();if(0==this.get_numberOfConcernsInLocalPage())this.contentDom.find(".fix_all_area").remove(),this.contentDom.find(".changesMade_wrapper").remove(),this.contentDom.find(".ul_category_list").remove(),this.contentDom.find(".share_area").remove(),this.contentDom.find(".scanResultArea").append(this.ConstructHaveNoConcerns()),
this.UpdateNumberOfConcerns();else{var a=this.contentDom.find(".ul_category_list>li"),b=[],c=[];this.get_saveChangesArea().is(":visible")&&b.push(this.get_saveChangesArea());for(var d=0;d<a.length;d++){for(var f=a.eq(d).find(".ul_concerns_list>li"),e=[],l=0;l<f.length;l++){var g=TMExt_$.parseJSON(f.eq(l).find(".Setting_display_none").text());isSettingRisky(g.Current,g.Risk)||e.push(f.eq(l))}if(e.length==f.length)b.push(a.eq(d)),c.push(a.eq(d));else for(f=0;f<e.length;f++)b.push(e[f]),c.push(e[f])}a=
null;for(d=0;d<b.length;d++)a=null==a?b[d]:a.add(b[d]);a&&a.slideUp(DURATION_TIME_SLIDE_UP_SETTINGS,function(){for(var a=0;a<c.length;a++)c[a].remove()});ReUpdateUI_Layout()}};this.ConstructFixAllArea=function(a,b){var c=TMExt_$("<div/>",{"class":"fix_all_area"}),d=1==a?GetPSL10NString("CONCERN_TITLE_ONE_CONCERN").replace("%d",'<span class="how_many_privacy_concerns_number">'+a+"</span>"):GetPSL10NString("CONCERN_TITLE").replace("%d",'<span class="how_many_privacy_concerns_number">'+a+"</span>"),
d=TMExt_$("<p/>",{"class":"how_many_privacy_concerns",html:d}),e=TMExt_$("<button/>",{"class":"btn_red fix_all_area_fix",text:GetPSL10NString("FIX_ALL_TITLE")});e.click(b);c.append(d).append(e);return c};this.RemoveSafeySetting=function(a){return TMExt_$.grep(a,function(a){return-1!=a.Risk.indexOf(a.Current)})};this.FilterListByCategory=function(a){a=e.RemoveSafeySetting(a);for(var b={count:0},c=!1,d=0;d<CategoryList.length;d++){for(var f=0;f<a.length;f++)a[f].Category==CategoryList[d]&&(c=!0,b.count in
b||(b[b.count]=[]),b[b.count].push(a[f]));c&&(c=!1,b.count++)}return b};this.ConstructSettingItem=function(a){function b(){var b=v.find("li").index(TMExt_$(this));v.hide();F.text(TMExt_$.toJSON(b));var c=z.find(".privacy_item_content_current_wording");c.text(a.PossibleValue[b]);c.removeClass("risk").removeClass("safe");x.removeClass("risk").removeClass("safe");var d=TMExt_$.parseJSON(G.text());isSettingRisky(b,d.Risk)?(c.addClass("risk"),x.addClass("risk")):(c.addClass("safe"),x.addClass("safe"));
v.parent().hasClass("beFacebookApplications")?(z.attr("fixTo",b),D(!0)):D()}function c(a,b){var c=TMExt_$("<li/>",{"class":"privacy_item_content_selector_safe"}).append(TMExt_$("<div/>",{"class":"privacy_item_content_selector_safe_icon"})).append(TMExt_$("<span/>",{text:a.PossibleValue[b]}));a.Suggestion==b&&c.append(TMExt_$("<span/>",{"class":"privacy_item_content_selector_recommend",text:GetPSL10NString("SETTING_ITEM_RECOMMENDED")}));return c}function d(a,b){var c=TMExt_$("<li/>",{"class":"privacy_item_content_selector_risk"}),
d=TMExt_$("<div/>",{"class":"privacy_item_content_selector_risk_icon"}),e=TMExt_$("<span/>",{text:a.PossibleValue[b]});c.append(d).append(e);return c}a.PossibleValue["0"]||(a.PossibleValue["0"]=GetPSL10NString("SETTING_ITEM_OFF"),a.PossibleValue["1"]=GetPSL10NString("SETTING_ITEM_ON"));var f=TMExt_$("<li/>"),h=TMExt_$("<div/>",{"class":"privacy_item_content_titleArea"}),l=TMExt_$("<div/>",{"class":"privacy_item_content_titleArea_title"}),g=TMExt_$("<div/>",{"class":"privacy_item_content_titleArea_title_wording"}),
m=TMExt_$("<div/>",{"class":"privacy_item_content_titleArea_title_wording_icon",html:"&nbsp;"}),k=TMExt_$("<div/>",{"class":"privacy_item_content_titleArea_title_wording_title",text:a.Title});g.append(m).append(k);l.append(g);var g=TMExt_$("<div/>",{"class":"moreInfo_area"}),A=TMExt_$("<div/>",{"class":"privacy_item_content_titleArea_moreInfo",html:"&nbsp;"});g.append(A);A.on("mouseenter",function(){ToolTipHelper.ShowTooltip(a.Desc,A)});A.on("mouseleave",function(){ToolTipHelper.HideTooltip()});h.append(l);
a.Title!=a.Desc&&k.append(g);var l=TMExt_$("<div/>",{"class":"privacy_item_content_selector"}),x=TMExt_$("<div/>",{"class":"privacy_item_content_current_riskImage"}),k=TMExt_$("<div/>",{"class":"privacy_item_content_current_wording",text:a.PossibleValue[a.Current]});isSettingRisky(a.Current,a.Risk)?(x.addClass("risk"),k.addClass("risk")):(x.addClass("safe"),k.addClass("safe"));var z=TMExt_$("<button/>",{"class":"btn_silver_inline_div privacy_item_content_current settingItem",responseCurrent:a.Current}).append(x).append(TMExt_$("<div/>",
{"class":"privacy_item_content_current_arrow"})).append(k),v=TMExt_$("<ul/>",{"class":"privacy_item_content_ul"});v.css("z-index",99);var G=TMExt_$("<div/>",{"class":"Setting_display_none",text:TMExt_$.toJSON(a)}),F=TMExt_$("<div/>",{"class":"current_setting_display_none",text:TMExt_$.toJSON(a.Current)});if(a.Website==FACEBOOK&&"81"==a.ID)TMExt_$.each([0,1],function(e,f){var g=isSettingRisky(f,a.Risk)?d(a,f):c(a,f);g.click(b);v.append(g)});else for(var s=0,t=a.possibleFixValue.length;s<t;s++){var n=
a.possibleFixValue[s],n=isSettingRisky(n,a.Risk)?d(a,n):c(a,n);n.click(b);v.append(n)}z.click(function(){TMExt_$(this).hasClass("button_disabled_silver_inline")||v.show()});l.append(z).append(v);l.on("mouseleave",function(){v.hide()});for(var D=function(a){(function(){for(var b=e.contentDom.find(".changesMade_area"),c=b.find(".changesMade_area_changesMade_number"),d=0,f=e.contentDom.find(".privacy_item_content"),g=0;g<f.length;g++)if(f.eq(g).hasClass("bFacekookApplications"))if(a){var h=f.eq(g).find("button.settingItem"),
k=h.attr("responseCurrent"),l=h.attr("fixTo");l&&Number(l)!=Number(k)&&(h=Number(h.attr("count")),d+=h)}else f.eq(g).find("button.subApps").each(function(){var a=TMExt_$(this).attr("responseCurrent"),b=TMExt_$(this).attr("fixTo");b&&Number(b)!=Number(a)&&d++});else f.eq(g).find(".privacy_item_content_selector"),h=f.eq(g).find(".Setting_display_none"),h=TMExt_$.parseJSON(h.text()),k=f.eq(g).find(".current_setting_display_none"),k=TMExt_$.parseJSON(k.text()),h.Current!=k&&d++;c.text(d);0==d?b.is(":visible")&&
(ToolTipHelper.HideTooltip(),b.slideUp(DURATION_TIME_SLIDE_UP_SAVECHANGES,function(){ReUpdateUI_Layout()})):b.is(":visible")||(ToolTipHelper.HideTooltip(),b.show(),ReUpdateUI_Layout(),b.hide(),b.slideDown(DURATION_TIME_SLIDE_DOWN_SAVECHANGES,function(){if(IsNeedToShowSaveChangesHint()){var a=b.find(".changesMade_area_saveChanges");ToolTipHelper.ShowTooltip(GetPSL10NString("SAVE_CHANGES_FIRSTTIME_HINT"),a);SetShowSaveChangesHint(!1)}else ToolTipHelper.HideTooltip();ReUpdateUI_Layout()}))})();ReUpdateUI_Layout()},
k="privacy_item_content",g=UISettings.privacy_item_content,m=!1,q=0,E=g.length;q<E&&!m;q++)for(var B=g[q],y=B.list,p=0,u=y.length;p<u;p++){var w=a.ID;if((a.Website||a.Browser)==y[p].name&&w==y[p].ID){k+=" "+B.className;m=!0;break}}k=TMExt_$("<div/>",{"class":k});k.append(h).append(G).append(F);if(a.html&&0<=a.html.indexOf("<div")){k.addClass("bFacekookApplications");h=TMExt_$("<ul/>",{"class":"privacy_item_content_fb_applications"}).css("margin-top","35px").css("margin-left","35px");window.MAX_SHOW_COUNT=
5;var g=0,r;for(r in a.appsDetail){g++;t=a.appsDetail[r];m=TMExt_$('<li class="oneApp" style="height:54px;"></li>');q=TMExt_$("<ul class='oneAppDetails'></ul>");E=TMExt_$("<li class='detailItem'><img style='height: 24px;width: 24px;margin-top: 15px; margin-left: 15px;' src="+t.imgPath+"></img></li>");B=TMExt_$("<li class='detailItem'><div class='appNameWording'><span>"+t.appName+"</span></div></li>");g>MAX_SHOW_COUNT&&m.hide().addClass("hidenApps");y=TMExt_$('<li class="detailItem"><div class="waiting hidden" > </div></li>');
p=TMExt_$("<div/>",{"class":"privacy_item_content_selector beFacebookSubApplications"});u=TMExt_$("<button/>",{"class":"btn_silver_inline_div privacy_item_content_current subApps "+r,responseCurrent:t.appLevelNum,appId:r});u.css("margin-bottom","0px");w=TMExt_$('<div class="currentIcon privacy_item_content_current_riskImage risk"></div>');s=TMExt_$('<div class="privacy_item_content_current_arrow" style="margin-top: 11px;"></div>');t=TMExt_$('<div class="privacy_item_content_current_wording risk">'+
t.appLevelWording+"</div>");u.append(w).append(s).append(t);u.addClass("button_disabled_silver_inline").css("opacity",.5);w=TMExt_$("<div/>",{"class":"deleteBtn facebookApp disabled",appId:r});w.css("opacity",.5);var C=TMExt_$("<ul/>",{"class":"privacy_item_content_ul privacy_item_content_ul_detail_app"});C.css("z-index",1);s=0;for(t=a.possibleFixValue.length;s<t;s++)n=a.possibleFixValue[s],n=isSettingRisky(n,a.Risk)?d(a,n):c(a,n),C.append(n),n.attr("value",s);C.find("li").each(function(){TMExt_$(this).click(function(){TMExt_$(this).parent().parent().find("button .privacy_item_content_current_wording").text(a.PossibleValue[TMExt_$(this).attr("value")]);
var b=TMExt_$(this).parent().parent().find("button .currentIcon"),c=TMExt_$(this).parent().parent().find("button.subApps");b.removeClass("risk").removeClass("safe");TMExt_$(this).hasClass("privacy_item_content_selector_risk")?b.addClass("risk"):b.addClass("safe");c.attr("fixTo",TMExt_$(this).attr("value"));TMExt_$(this).parent().hide();D(!1)})});u.click(function(){TMExt_$(this).hasClass("button_disabled_silver_inline")||TMExt_$(this).parent().find("ul").show()});w.click(function(){if(!TMExt_$(this).hasClass("disabled")){var b=
this;e.alertMessageOverTabContent(ConstructAlertMessageOverContent({closeButton:!0,closeEvent:function(){TMExt_$("#tabsContent_facebook .alertOverTabContentArea").remove();e.enableButtonOfTabContent()},title:e.OVERLAY_REMOVE_FACEBOOK_APPLICATION,buttons:[{title:GetPSL10NString("OVERLAY_REMOVE"),callback:function(){TMExt_$(b).parent().parent().parent().css("opacity",.7);TMExt_$(b).parent().parent().find("button.subApps").addClass("button_disabled_silver_inline").css("opacity",.5);TMExt_$(b).parent().parent().find(".deleteBtn.facebookApp").addClass("disabled").css("opacity",
.5);TMExt_$(b).parent().parent().find(".waiting").removeClass("hidden");var a=TMExt_$(b).attr("appId"),c=get_scannerHelper("FACEBOOK"),d=[];d.push({Website:"FACEBOOK",extra:{appIDs:[a],bDelete:!0},fix_to:3,id:84});PSDebug.log("list_toFix:",d);c.UI_FixAllSetting(!0,d,c.forceOpenNewTabWhenFix);TMExt_$("#tabsContent_facebook .alertOverTabContentArea").remove();e.enableButtonOfTabContent()}},{title:GetPSL10NString("OVERLAY_CANCEL"),callback:function(){TMExt_$("#tabsContent_facebook .alertOverTabContentArea").remove();
e.enableButtonOfTabContent()}}],head:GetPSL10NString("fb_app_remove_title").replace("%APPNAME%",a.appsDetail[TMExt_$(b).attr("appId")].appName)}));b=this}});w.hover(function(){TMExt_$(this).hasClass("disabled")||ToolTipHelper.ShowTooltip(GetPSL10NString("fb_app_remove_tooltip"),TMExt_$(this))},function(){TMExt_$(this).hasClass("disabled")||ToolTipHelper.HideTooltip()});p.append(u);p.append(C);p.on("mouseleave",function(){TMExt_$(this).parent().find("ul").hide()});m.hover(function(){TMExt_$(".radioBtnApplyIndividual input")[0].checked&&
TMExt_$(this).css("background-color","rgb(226, 226, 227)")},function(){TMExt_$(this).css("background-color","white")});u=TMExt_$("<li class='detailItem'></li>");p.appendTo(u);p=TMExt_$("<li class='detailItem'></li>");w.appendTo(p);q.append(E).append(B).append(y).append(u).append(p);m.append(q);h.append(m)}r=TMExt_$('<div class="radioBtnApplyAll"><input id="applyAll" name="ApplyType" type="radio" value="" checked="checked" /><label for="applyAll">'+GetPSL10NString("fb_app_titleArea_radio_wording_apply_all").replace("%NUM%",
g)+" </label></div>");1<g?r.find("label").text(GetPSL10NString("fb_app_titleArea_radio_wording_apply_all").replace("%NUM%",g)):r.find("label").text(GetPSL10NString("fb_app_titleArea_radio_wording_apply_all_singular"));m=TMExt_$('<div class="radioBtnApplyIndividual"><input id="applyIndiv" name="ApplyType" type="radio" value="" /><label for="applyIndiv">'+GetPSL10NString("fb_app_titleArea_radio_wording_apply_individ")+"</label></div>");r.click(function(){TMExt_$(this).parent().parent().find("button.btn_silver_inline_div").removeClass("button_disabled_silver_inline").css("opacity",
1);TMExt_$(this).parent().parent().find("button.subApps").addClass("button_disabled_silver_inline").css("opacity",.5);TMExt_$(this).parent().parent().find(".deleteBtn.facebookApp").addClass("disabled").css("opacity",.5);TMExt_$(this).parent().parent().find("button.btn_silver_inline_div.subApps").each(function(){var a=TMExt_$(this).attr("responseCurrent"),b=TMExt_$(this).parent().find(".privacy_item_content_ul li");TMExt_$(b[a]).trigger("click")})});m.click(function(){TMExt_$(this).parent().parent().find("button.btn_silver_inline_div").addClass("button_disabled_silver_inline").css("opacity",
.5);TMExt_$(this).parent().parent().find("button.subApps").removeClass("button_disabled_silver_inline").css("opacity",1);TMExt_$(this).parent().parent().find(".deleteBtn.facebookApp").removeClass("disabled").css("opacity",1);var a=TMExt_$(this).parent().parent().find("button.btn_silver_inline_div.settingItem").attr("responseCurrent"),b=TMExt_$(this).parent().parent().find("button.btn_silver_inline_div.settingItem").parent().find(".privacy_item_content_ul li");TMExt_$(b[a]).trigger("click")});g>MAX_SHOW_COUNT&&
(q=TMExt_$("<div><span class='wording'>"+GetPSL10NString("fb_app_extend_wording")+"</span><span class='arrow'>&nbsp;</span>"),q.addClass("extendBar"),q.click(function(){TMExt_$(".hidenApps").slideToggle()}),q.toggle(function(){TMExt_$(this).find(".wording").text(GetPSL10NString("fb_app_unextend_wording"));TMExt_$(this).addClass("unextended")},function(){TMExt_$(this).find(".wording").text(GetPSL10NString("fb_app_extend_wording"));TMExt_$(this).removeClass("unextended")}),h.append(q));k.append(r);
k.append(m);k.append(h);l.addClass("beFacebookApplications");l.find("button").attr("count",g);1==g&&(k.find("button.subApps").removeClass("button_disabled_silver_inline").css("opacity",1),k.find(".deleteBtn.facebookApp").removeClass("disabled").css("opacity",1),r.hide(),m.hide(),l.hide())}l.prependTo(k);f.append(k);return f};this.ConstructShareAfterScan=function(){if(window.ProductFeatureConfiguration&&!1==window.ProductFeatureConfiguration.LocalPage.DisplayShareButtonArea)return TMExt_$("<div/>",
{"class":"share_area_hide"});var a=TMExt_$("<div/>",{"class":"share_area"}),b=TMExt_$("<div/>",{"class":"share_title",text:GetPSL10NString("SHARE_DESCRIPTION")}),c=TMExt_$("<div/>",{"class":"share_icons"});c.append(this.ConstructShareSNS(FACEBOOK)).append(this.ConstructShareSNS(TWITTER)).append(this.ConstructShareSNS(GOOGLEPLUS)).append(this.ConstructShareSNS(LINKEDIN));a.append(b).append(c);return a};this.ConstructShareNoConcern=function(){if(window.ProductFeatureConfiguration&&!1==window.ProductFeatureConfiguration.LocalPage.DisplayShareButtonArea)return TMExt_$("<div/>",
{"class":"share_area_noConcern_hide"});var a=TMExt_$("<div/>",{"class":"share_area_noConcern"}),b=TMExt_$("<div/>",{"class":"share_title_noConcern",text:GetPSL10NString("SHARE_DESCRIPTION")}),c=TMExt_$("<div/>",{"class":"share_icons"});c.append(this.ConstructShareSNS(FACEBOOK)).append(this.ConstructShareSNS(TWITTER)).append(this.ConstructShareSNS(GOOGLEPLUS)).append(this.ConstructShareSNS(LINKEDIN));a.append(b).append(c);return a};this.ConstructShareSNS=function(a){var b=GetPSL10NString("SHARE_TOOTHERS_LINK"),
c=encodeURIComponent(this.SHARE_TITLE+" "+b),d={FACEBOOK:{siteName:FACEBOOK,className:"share_facebook",link:"https://www.facebook.com/sharer/sharer.php?u="+b+"&wording="+c},TWITTER:{siteName:TWITTER,className:"share_twitter",link:"https://twitter.com/intent/tweet?text="+c},GOOGLEPLUS:{siteName:GOOGLEPLUS,className:"share_googlePlus",link:"https://plus.google.com/share?url="+b+"&wording="+c},LINKEDIN:{siteName:LINKEDIN,className:"share_linkedIn",link:"https://www.linkedin.com/cws/share?url="+b+"&wording="+
c}}[a];a=TMExt_$("<div/>",{"class":d.className});a.click(function(){window.open(d.link);DCA_UTIL.lstLocalPageUsageInfo.nShareTimes(DCA_CONSTANTS.WEBSITE_OR_BROWSER_ID[d.siteName],1)});return a};this.ConstructHaveNoConcerns=function(){var a=TMExt_$("<div/>",{}),b=TMExt_$("<p/>",{"class":"have_no_concerns_title",text:GetPSL10NString("NO_CONCERN_DESCRIPTION")});this.contentDom.find(".fix_all_area_wrapper").empty().append(b);b=TMExt_$("<div/>",{"class":"have_no_concerns_image_area"});a.append(this.ConstructShareNoConcern()).append(b);
return a};this.ConstructCategory=function(a){for(var b=TMExt_$("<ul/>",{"class":"ul_category_list"}),c=0;c<parseInt(a.count);c++){var d=TMExt_$("<li/>",{}),f=TMExt_$("<div/>",{"class":"category_title",id:a[c.toString()][0].Category});f.html(function(){var b={People_can_see_your_personal_info:GetPSL10NString("CATEGORY_People_can_see_your_personal_info"),Strangers_can_easily_track_you:GetPSL10NString("CATEGORY_Strangers_can_easily_track_you"),You_can_be_tagged_without_your_permission:GetPSL10NString("CATEGORY_You_can_be_tagged_without_your_permission"),
People_outside_of_Facebook_can_see_your_info:GetPSL10NString("CATEGORY_People_outside_of_Facebook_can_see_your_info"),People_can_see_where_you_were:GetPSL10NString("CATEGORY_People_can_see_where_you_were"),People_can_download_your_photos:GetPSL10NString("CATEGORY_People_can_download_your_photos"),Advertizers_can_learn_more_about_you:GetPSL10NString("CATEGORY_Advertizers_can_learn_more_about_you"),People_outside_of_Linkedin_can_see_your_info:GetPSL10NString("CATEGORY_People_outside_of_Linkedin_can_see_your_info"),
Strangers_could_monitor_your_connection:GetPSL10NString("CATEGORY_Strangers_could_monitor_your_connection"),Browser_phishing_protect:GetPSL10NString("CATEGORY_Browser_phishing_protect"),Application_can_access_your_personal_info:GetPSL10NString("CATEGORY_Application_access"),Application_can_access_your_personal_info_P:GetPSL10NString("CATEGORY_Application_access_plural")},d=a[c.toString()][0].Category;return a[c.toString()][0].appIDs&&1<a[c.toString()][0].appIDs.length?b.Application_can_access_your_personal_info_P.replace("%NUM%",
'<span class="how_many_app_counts">'+a[c.toString()][0].appIDs.length+"</span>"):a[c.toString()][0].appIDs&&1==a[c.toString()][0].appIDs.length?b.Application_can_access_your_personal_info.replace("%NUM%",'<span class="how_many_app_counts">'+a[c.toString()][0].appIDs.length+"</span>"):b[d]||"unexpected category"}());d.append(f);for(var f=TMExt_$("<ul/>",{"class":"ul_concerns_list"}),h=0;h<a[c.toString()].length;h++){var l=e.ConstructSettingItem(a[c.toString()][h]);f.append(l)}d.append(f);b.append(d)}return b};
this.alertLogoAlertClassName="alert_logo_ALERT"}})();
